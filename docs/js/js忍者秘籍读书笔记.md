---
sidebar: auto   
sidebarDepth: 2
---

# JavaScript忍者秘籍 - 理解函数   

## 函数：定义与参数   

### 回调函数在那种情况下不会同步调用， 或者异步调用？ 



### 箭头函数和函数表达式的区别是什么？  


### 你为什么需要在函数中使用默认参数？   





## 函数进阶：理解函数的调用  

![js忍者秘籍读书笔记-函数进阶：理解函数的调用-201952173720](http://img.hecun.site/js忍者秘籍读书笔记-函数进阶：理解函数的调用-201952173720.png)

### 为什么this参数表示函数的上下文？   
 `this`  是在运行时的时候进行绑定的，并不是编写的时候绑定。它的上下文取决于函数调用时的各种条件，`this`  的绑定和函数的声明位置没有任何关系，只取决于函数的调用方式。 
 当一个函数被调用的时候，会创建一个活动记录（也可以称作为上下文）。这个记录会包括函数在哪里被调用的，函数的调用方式，传入参数等信息。 `this` 就是记录的一个属性，会在函数执行的过程中使用。


### 函数调用的方式
- 作为一个函数（function）- say(), 直接被调用   
- 作为一个方法（methods）- hecun.say() 关联在一个对象上，实现面向对象的流程
- 作为一个构造函数（constructor）- new Hecun()， 实例化一个新的对象  
- 通过函数的apply或者call方法 - say.call(hecun)或者say.bind(hecun)


### 函数（function）和方法（methods）之间有什么区别？ 

- 函数调用： 函数的上下文（ `this` 关键字的值）有两种可能性：在非严格模式下，它将是全局的上下文（ `window` 对象），而在严格模式下，它将是 `undefined`。
- 方法调用： 当函数作为某个对象的方法被调用时，该对象会成为函数的上下文。并且在函数的内部可以通过参数访问到。

### 如果一个构造函数显式的返回一个对象会发生什么？ 

如果构造函数返回一个对象，则该对象将作为整个表达式的值返回，而传入构造函数的 `this` 将被丢弃。
::: tip  
如果构造函数返回的是非对象类型，则忽略返回值，返回新创建的对象。
:::

### 实现一个forEach()函数   

forEach 遍历函数将每个元素传给回调函数，将当前元素作为回调函数的上下文。 
 
```js
function forEach(list, callback) {
    for(var n = 0; n < list.length; n++) {
        callback(list[n], n)
    }
}
``` 
## 精通函数：闭包和作用域  
![js忍者秘籍读书笔记-精通函数：闭包和作用域-20195222293](http://img.hecun.site/js忍者秘籍读书笔记-精通函数：闭包和作用域-20195222293.png)

### 一个变量或方法有几种不同的作用域？这些作用域分别表示什么？  
- 全局作用域： 声明在函数外部的变量，在代码中任何地方都能访问到的对象拥有全局作用域  
- 函数作用域： 声明在函数内部的变量，和全局作用域相反，局部作用域一般只在固定的代码片段内可访问到
- 块级作用域： 声明在最近的词法环境中



### 如何定位标识符及其值？ 
在访问外部代码结构中的变量，如果在当前环境中无法找到某一个标识符，就会对外部环境进行查找。一旦查找到匹配的变量，或是全局环境中仍无法找到对应的标识符而返回错误，就会停止查找。 


### 什么是可变变量？ 如何在JavaScript中定义可变变量？

可变变量： 声明的我变量可以变更任意次数。可以用 `var` 或 `let` 声明可变变量

### 注册标识符的过程

![js忍者秘籍读书笔记-变量声明过程-20195217371](http://img.hecun.site/js忍者秘籍读书笔记-变量声明过程-20195217371.png)


## 未来的函数：生成器和promise  

### 生成器函数的主要用途是什么？  

### 在异步代码中。为什么使用 promise 比使用简单的回调更好？  

### 使用 promise.race 来执行很多长期执行的任务时， promise 最终会在什么时候变成 resolved 状态？它什么时候会无法变成 resolved 状态？ 